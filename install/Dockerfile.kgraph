FROM ann-benchmarks

RUN apt-get update && apt-get install -y git libboost-all-dev python-numpy python-pip

WORKDIR /home/app
RUN git clone https://github.com/aaalgo/kgraph

WORKDIR /home/app/kgraph
RUN python setup.py install

# kgraph doesn't work with python3 afaik
RUN python -c 'import pykgraph'
#RUN pip install -r requirements.txt
RUN pip install enum34

WORKDIR /home/app
ENTRYPOINT ["python", "run_algorithm.py"]
